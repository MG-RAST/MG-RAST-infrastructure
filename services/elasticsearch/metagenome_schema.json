{
    "settings" : {
      "index" : {
                  "number_of_shards" : 10, 
                  "number_of_replicas" : 2 
              },
        "analysis" : {
            "analyzer": {
                "prefix_edge_ngram_analyzer": {
                  "tokenizer": "prefix_edge_ngram_tokenizer",
                  "filter": ["lowercase"]
                },
                "suffix_edge_ngram_analyzer": {
                  "tokenizer": "keyword",
                  "filter" : ["lowercase","reverse","suffix_edge_ngram_filter","reverse"]
                }
              },
              "tokenizer": {
                "prefix_edge_ngram_tokenizer": {
                  "type": "edgeNGram",
                  "min_gram": "2",
                  "max_gram": "25"
                }
              },
              "filter": {
                "suffix_edge_ngram_filter": {
                  "type": "edgeNGram",
                  "min_gram": 2,
                  "max_gram": 25
                }
              }
        }
    },
    "mappings" : {
        "metagenome_metadata" : { 
            "dynamic_templates": [ { 
                    "double_t": {
                        "match" : "*_d", 
                        "mapping": {
                             "type":           "double"
                        }
                    }
                },
                { 
                    "long_t": {
                        "match":              "*_l", 
                        "mapping": {
                            "type":           "long"
                         }
                    }
                }
                ],
            "properties" : {
                "id" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "job_info_job_id" : {
                    "type": "integer"
                },
                "job_info_public" : {
                    "type": "boolean"
                },
                "job_info_pipeline_version" : {
                    "type" : "string"
                },
                "job_info_sequence_type" : {
                    "type": "string"
                },
                "job_info_version" : {
                    "type": "integer"
                },
                "job_info_name" : {
                    "type": "string"
                },
                "job_info_seq_method" : {
                    "type": "string"
                },
                "job_info_created": {
                    "type": "date",
                    "format": "strict_date_optional_time||epoch_millis"
                },
                "job_info_mixs_compliant" : {
                    "type": "boolean"
                },
                "project_PI_firstname" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_PI_lastname" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_firstname" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_lastname" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_PI_organization" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_PI_organization_country" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_organization_country" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_organization" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "project_project_name" : {
                    "type": "string"
                },
                "project_project_funding" : {
                    "type": "string"
                },
                "project_project_id" : {
                    "type": "string"
                },
                "library_gold_id" : {
                    "type" : "string"
                },
                "project_ncbi_id" : {
                    "type" : "string"
                },
                "library_pubmed_id" : {
                    "type" : "string"
                },
                "project_all" : {
                    "type": "string"
                },
                "library_library_id" : {
                    "type": "string"
                },
                "library_library_name" : {
                    "type": "string"
                },
                "library_all" : {
                    "type": "string"
                },
                "sample_sample_id" : {
                    "type": "string"
                },
                "sample_collection_date" : {
                    "type": "date"
                },
                "sample_feature" : {
                    "type": "string"
                },
                "sample_latitude" : {
                    "type": "float"
                },
                "sample_longitude" : {
                    "type": "float"
                },
                "sample_altitude" : {
                    "type": "float"
                },
                "sample_depth" : {
                    "type": "float"
                },
                "sample_elevation" : {
                    "type": "float"
                },
                "sample_continent" : {
                    "type": "string"
                },
                "sample_biome" : {
                    "type": "string"
                },
                "sample_temperature" : {
                    "type": "float"
                },
                "sample_sample_name" : {
                    "type": "string"
                },
                "sample_country" : {
                    "type": "string"
                },
                "sample_env_package_type" : {
                    "type": "string"
                },
                "sample_env_package_name" : {
                    "type": "string"
                },
                "sample_env_package_id" : {
                    "type": "string"
                },
                "sample_env_package_all" : {
                    "type": "string"
                },
                "sample_location" : {
                    "type": "string"
                },
                "sample_material" : {
                    "type": "string"
                },
                "sample_sample_all" : {
                    "type": "string"
                },
                "pipeline_parameters_aa_pid" : {
                    "type" : "integer"
                },
                "pipeline_parameters_assembled" : {
                    "type" : "boolean"
                },
                "pipeline_parameters_bowtie" : {
                    "type" : "boolean"
                },
                "pipeline_parameters_dereplicate" : {
                    "type" : "boolean"
                },
                "pipeline_parameters_fgs_type" : {
                    "type" : "string"
                },
                "pipeline_parameters_file_type" : {
                    "type" : "string"
                },
                "pipeline_parameters_filter_ambig" : {
                    "type" : "boolean"
                },
                "pipeline_parameters_filter_ln" : {
                    "type" : "boolean"
                },
                "pipeline_parameters_filter_ln_mult" : {
                    "type" : "float"
                },
                "pipeline_parameters_m5nr_annotation_version" : {
                    "type" : "integer"
                },
                "pipeline_parameters_m5nr_sims_version" : {
                    "type" : "integer"
                },
                "pipeline_parameters_m5rna_annotation_version" : {
                    "type" : "integer"
                },
                "pipeline_parameters_m5rna_sims_version" : {
                    "type" : "integer"
                },
                "pipeline_parameters_max_ambig" : {
                    "type" : "integer"
                },
                "pipeline_parameters_prefix_length" : {
                    "type" : "integer"
                },
                "pipeline_parameters_priority" : {
                    "type" : "string"
                },
                "pipeline_parameters_rna_pid" : {
                    "type" : "integer"
                },
                "pipeline_parameters_screen_indexes" : {
                    "type" : "string"
                }
            }
        },
        "metagenome_annotation" : {
            "_parent": {
                    "type": "metagenome_metadata" 
                  }, 
            "properties" : {
                "id" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "md5" : {
                    "type": "string",
                    "index": "not_analyzed"
                },
                "function" : {
                    "type": "string",
                    "fields": {
                        "prefix": {
                          "type": "string",
                          "analyzer": "prefix_edge_ngram_analyzer"
                        },
                        "suffix": {
                          "type": "string",
                          "analyzer": "suffix_edge_ngram_analyzer"
                        }
                    },
                    "store" : false
                },
                "organism" : {
                    "type": "string",
                    "fields": {
                        "prefix": {
                          "type": "string",
                          "analyzer": "prefix_edge_ngram_analyzer"
                        },
                        "suffix": {
                          "type": "string",
                          "analyzer": "suffix_edge_ngram_analyzer"
                        }
                    },
                    "store" : false
                }
             }
        }
    }
}

